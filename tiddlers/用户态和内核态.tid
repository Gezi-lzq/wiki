created: 20220919065544116
creator: lzq
modified: 20220919070054930
modifier: lzq
tags: 深入理解计算机系统
title: 用户态和内核态
type: text/vnd.tiddlywiki

用户态与内核态的概念就是CPU 指令集权限的区别

* 执行内核空间的代码，具有ring 0保护级别，有对硬件的所有操作权限，可以执行所有CPU 指令集，访问任意地址的内存，在内核模式下的任何异常都是灾难性的，将会导致整台机器停机

* 在用户模式下，具有ring 3保护级别，代码没有对硬件的直接控制权限，也不能直接访问地址的内存，程序是通过调用系统接口(System Call APIs)来达到访问硬件和内存

在内存资源上的使用的区别

* 用户态：只能操作 0-3G 范围的低位虚拟空间地址

* 内核态：0-4G 范围的虚拟空间地址都可以操作，尤其是对 3-4G 范围的高位虚拟空间地址必须由内核态去操作

